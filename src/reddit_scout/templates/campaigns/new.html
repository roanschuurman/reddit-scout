{% extends "base.html" %}

{% block title %}New Campaign - Reddit Scout{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <h1 class="text-2xl font-bold mb-6">Create New Campaign</h1>

    <form method="post" action="/campaigns" class="card bg-base-100 shadow-xl">
        <div class="card-body">
            <div class="form-control mb-4">
                <label class="label" for="name">
                    <span class="label-text">Campaign Name</span>
                </label>
                <input
                    type="text"
                    id="name"
                    name="name"
                    placeholder="e.g., My Product Launch"
                    class="input input-bordered w-full {% if errors and errors.name %}input-error{% endif %}"
                    value="{{ name or '' }}"
                    required
                />
                {% if errors and errors.name %}
                <label class="label">
                    <span class="label-text-alt text-error">{{ errors.name }}</span>
                </label>
                {% endif %}
            </div>

            <div class="form-control mb-4">
                <label class="label" for="system_prompt">
                    <span class="label-text">System Prompt</span>
                    <span class="label-text-alt">Instructions for AI response generation</span>
                </label>
                <textarea
                    id="system_prompt"
                    name="system_prompt"
                    placeholder="You are a helpful assistant responding to Reddit posts about [product]. Be conversational, helpful, and don't sound promotional..."
                    class="textarea textarea-bordered h-32 {% if errors and errors.system_prompt %}textarea-error{% endif %}"
                    required
                >{{ system_prompt or '' }}</textarea>
                {% if errors and errors.system_prompt %}
                <label class="label">
                    <span class="label-text-alt text-error">{{ errors.system_prompt }}</span>
                </label>
                {% endif %}
            </div>

            <div class="form-control mb-6">
                <label class="label cursor-pointer justify-start gap-3">
                    <input
                        type="checkbox"
                        name="is_active"
                        value="true"
                        class="checkbox checkbox-primary"
                        checked
                    />
                    <span class="label-text">Active</span>
                    <span class="label-text-alt text-base-content/50">Campaign will start monitoring when subreddits and keywords are added</span>
                </label>
            </div>

            <div class="card-actions justify-end">
                <a href="/campaigns" class="btn btn-ghost">Cancel</a>
                <button type="submit" class="btn btn-primary">Create Campaign</button>
            </div>
        </div>
    </form>
</div>
{% endblock %}
