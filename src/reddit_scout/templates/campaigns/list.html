{% extends "base.html" %}

{% block title %}Campaigns - Reddit Scout{% endblock %}

{% block content %}
<div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold">Campaigns</h1>
    <a href="/campaigns/new" class="btn btn-primary">New Campaign</a>
</div>

{% if request.query_params.get('deleted') %}
<div class="alert alert-success mb-6">
    <span>Campaign deleted successfully.</span>
</div>
{% endif %}

{% if campaigns %}
<div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
    {% for campaign in campaigns %}
    <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
            <div class="flex items-center gap-2">
                <h2 class="card-title flex-1">{{ campaign.name }}</h2>
                {% if campaign.is_active %}
                <span class="badge badge-success">Active</span>
                {% else %}
                <span class="badge badge-ghost">Inactive</span>
                {% endif %}
            </div>
            <p class="text-sm text-base-content/70 line-clamp-2">
                {{ campaign.system_prompt[:100] }}{% if campaign.system_prompt|length > 100 %}...{% endif %}
            </p>
            <div class="text-xs text-base-content/50 mt-2">
                Created {{ campaign.created_at.strftime('%b %d, %Y') }}
            </div>
            <div class="card-actions justify-end mt-4">
                <a href="/campaigns/{{ campaign.id }}" class="btn btn-sm btn-ghost">View</a>
                <a href="/campaigns/{{ campaign.id }}/edit" class="btn btn-sm btn-outline">Edit</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="card bg-base-100 shadow-xl">
    <div class="card-body items-center text-center py-12">
        <h2 class="card-title text-xl mb-2">No campaigns yet</h2>
        <p class="text-base-content/70 mb-4">Create your first campaign to start monitoring Reddit for mentions.</p>
        <a href="/campaigns/new" class="btn btn-primary">Create Campaign</a>
    </div>
</div>
{% endif %}
{% endblock %}
